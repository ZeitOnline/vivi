<div
  tal:define="panel_id string:zeit.cms.sitecontrol;
              panel_handlers nocall:context/@@panel_handlers;
              tree_url view/tree_url"
  tal:attributes="
  class python:panel_handlers.css_class(panel_id);
  id panel_id"
  i18n:domain="zeit.cms">

  <h1>
    <a href="javascript:void(null)"
      i18n:translate="">
      Ressorts
    </a>
  </h1>

  <div id="zeit.cms.sitecontrol.panelcontent" class="PanelContent Tree">
  </div>
  <script type="text/javascript" tal:content="string:
      (function() {
        var tree = new Tree('$tree_url', 'zeit.cms.sitecontrol.panelcontent');
        var s = MochiKit.Signal.connect(window, 'onload', function() {
            tree.loadTree();
            MochiKit.Signal.disconnect(s);
         });
        MochiKit.Signal.connect(tree, 'state-changed', function(event) {
          MochiKit.Signal.signal('sidebar', 'panel-content-changed');
        });
      })();
  "></script>
</div>
