<div class="keywordwidget"
  i18n:domain="zeit.cms"
  tal:attributes="id view/name">
  <tal:data tal:repeat="item view/_getFormValue">
    <input type="hidden"
      tal:attributes="
      name string:${view/name}.${repeat/item/index};
      id string:${view/name}.${repeat/item/index};
      value item/code" 
      />
    <input type="hidden"
      tal:attributes="
      name string:${view/name}.title.${repeat/item/index};
      id string:${view/name}.title.${repeat/item/index};
      value item/label" 
      />
    <input type="hidden"
      tal:attributes="
      name string:${view/name}.intaxonomy.${repeat/item/index};
      id string:${view/name}.intaxonomy.${repeat/item/index};
      value item/inTaxonomy" 
      />
  </tal:data>
  <input tal:replace="structure view/marker" />

  <ul>
    <!-- data will be inserted here by javascript -->
  </ul>
  <input type="button" name="new_keyword" value="Edit keywords" 
         i18n:attributes="value"/>
</div>
<script tal:content="string:
  var widget = new KeywordsWidget('${view/name}');
  ">
</script>
