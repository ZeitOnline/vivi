<form tal:omit-tag="not:request/show_form|nothing" method="POST">
  <tal:comment condition="nothing">
    When the requets contains ``show_form`` a form tag is rendered. This
    supports testing as the testbrowser does only recognise form elements
    inside a form. In a real browser this snipped is injected in form-tag so
    there must not be an extra form element.
  </tal:comment>
  <fieldset tal:attributes="class view/css_class" i18n:domain="zeit.cms">

    <legend tal:content="view/legend"
            tal:condition="view/legend"
            i18n:translate="">
      Legend
    </legend>

    <div tal:repeat="widget view/widgets"
         tal:attributes="class widget/field_css_class">
    <div class="widget"
         tal:condition="widget/reversed|nothing"
         tal:content="structure widget"/>
      <div class="label">
        <label tal:attributes="
               cms:tooltip widget/hint;
               for widget/name">
          <span i18n:translate="" tal:content="widget/label">label</span>
          <span class="required"
                tal:condition="widget/required"
                i18n:translate=""
                >required</span>
        </label>
        <div class="error"
             tal:condition="widget/error"
             tal:content="structure widget/error">
          error
        </div>
      </div>
      <div class="widget"
           tal:condition="not:widget/reversed|nothing"
           tal:content="structure widget"/>
    </div>

    <div class="form-controls" tal:condition="view/availableActions">
      <input
        tal:repeat="action view/actions"
        tal:replace="structure action/render" />
    </div>

  </fieldset>
</form>
