<div
  tal:define="panel_id string:SearchPanel;
  panel_handlers nocall:context/@@panel_handlers"
  tal:attributes="
  class python:panel_handlers.css_class(panel_id);
  id panel_id">

  <tal:replace replace="resource_library:zeit.cms" />
  <tal:replace replace="resource_library:zeit.search" />

  <h1>
    <a href="javascript:void(null)">
      Suche
    </a> 
  </h1>

  <div class="PanelContent Search"
    tal:define="last_search view/last_search"
    >
    <form id="search-form"
      tal:attributes="
      action string:${request/getApplicationURL}/search.html;
      class view/form_class">
      <label for="text">
        Volltextsuche:
      </label>
      <input type="text" name="text"
        tal:attributes="value last_search/text | nothing" />

      <input type="submit" name="search" value="Suchen" />

      <div id="search-extended-show">
        Erweitert…
      </div>

      <fieldset id="search-extended-form">
        <legend>
          Eingrenzung 
          <span id="search-extended-hide">(Verstecken…)</span>
        </legend> 

        <div class="widget">
          <label for="year">
            Jahr
          </label> 
          <input type="text" name="year" value=""
            tal:attributes="value last_search/year | nothing" />
        </div> 
        <div class="widget">
          <label for="page">
            Seite
          </label> 
          <input type="text" name="page" value="" 
            tal:attributes="value last_search/page | nothing" />
        </div>
        <div class="widget">
          <label for="volume">
            Ausgabe
          </label>
          <select name="volume:int"
            tal:define="last_volume last_search/volume | nothing">
            <option value="0"></option>
            <option
              tal:repeat="volume python:range(1, 54)"
              tal:attributes="
              value volume;
              selected python:last_volume == volume"
              tal:content="volume"
              />
          </select>
        </div>
        <div class="widget">
          <label for="ressort">
            Ressort
          </label> 
          <select name="ressort"
            tal:define="last_ressort last_search/ressort | nothing">
            <option value=""></option>
            <option
              tal:repeat="ressort view/ressorts"
              tal:attributes="value ressort;
              selected python:last_ressort == ressort"
              tal:content="ressort"
              />
          </select>
        </div>

      </fieldset>
    </form>
  </div>
</div>
