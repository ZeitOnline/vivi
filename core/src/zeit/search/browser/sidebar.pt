<div
  tal:define="panel_id string:SearchPanel;
  panel_handlers nocall:context/@@panel_handlers"
  tal:attributes="
  class python:panel_handlers.css_class(panel_id);
  id panel_id">

  <tal:replace replace="resource_library:zeit.cms" />
  <tal:replace replace="resource_library:zeit.search" />

  <h1>
    <a href="javascript:void(null)">
      Suche
    </a> 
  </h1>

  <div class="PanelContent Search"
    tal:define="last_search view/last_search">
    <form id="search-form"
      tal:attributes="
      action string:${request/getApplicationURL}/search.html;
      class view/form_class">
      <input type="text" name="search.text" id="search.text"
        tal:attributes="value last_search/text | nothing" />

      <input type="submit" name="search" value="Suchen" />

      <div id="search-extended-show">
        Erweitert…
      </div>

      <fieldset id="search-extended-form">
        <legend>
          Eingrenzung 
          <span id="search-extended-hide">(Verstecken…)</span>
        </legend> 

        <div class="widget">
          <label for="search.year">
            Jahr
          </label> 
          <input type="text" name="search.year" id="search.year"
            tal:attributes="value last_search/year | nothing" />
        </div> 

        <div class="widget">
          <label for="search.volume">
            Ausgabe
          </label>
          <select name="search.volume:int"
            tal:define="last_volume last_search/volume | nothing">
            <option value="0"></option>
            <option
              tal:repeat="volume python:range(1, 54)"
              tal:attributes="
              value volume;
              selected python:last_volume == volume"
              tal:content="volume"
              />
          </select>
        </div>

        <div class="widget">
          <label for="search.page">
            Seite
          </label> 
          <input type="text" name="search.page" id="search.page"
            tal:attributes="value last_search/page | nothing" />
        </div>

        <div class="widget">
          <label for="search.print_ressort">
            Print Ressort
          </label> 
          <select name="search.print_ressort" name="search.print_ressort"
            tal:define="last_print_ressort last_search/print_ressort | nothing">
            <option value=""></option>
            <option
              tal:repeat="print_ressort view/print_ressorts"
              tal:attributes="value print_ressort;
              selected python:last_print_ressort == print_ressort"
              tal:content="print_ressort"
              />
          </select>
        </div>

        <div class="widget">
          <label for="search.navigation">
            Navigation
          </label> 
          <select name="search.navigation" id="search.navigation"
            tal:define="last_navigation last_search/navigation | nothing">
            <option value=""></option>
            <option
              tal:repeat="navigation view/navigations"
              tal:attributes="value navigation;
              selected python:last_navigation == navigation"
              tal:content="navigation"
              />
          </select>
        </div>

        <div class="widget">
          <label for="search.serie">
            Serie
          </label> 
          <select name="search.serie" id="search.serie"
            tal:define="last_serie last_search/serie | nothing">
            <option value=""></option>
            <option
              tal:repeat="serie view/serien"
              tal:attributes="value serie;
              selected python:last_serie == serie"
              tal:content="serie"
              />
          </select>
        </div>

      </fieldset>
    </form>
  </div>
</div>
