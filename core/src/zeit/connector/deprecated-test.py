# small test herness for cconnector
# 2007-04-03 tomas
"""Connect to the CMS backend."""
import sys

# Damn. There must be a nicer way than this.
base = '/home/tomas/CMS2/'
sys.path[0:0] = [base + path for path in (
  'trunk/src',
  'trunk/eggs/zope.testing-3.4-py2.4.egg',
  'trunk/eggs/setuptools-0.6c5-py2.4.egg',
  'trunk/eggs/zope.app.catalog-3.4.0a2-py2.4.egg',
  'trunk/eggs/zope.app.apidoc-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.locking-3.4dev_r74674-py2.4.egg',
  'trunk/eggs/zope.app.onlinehelp-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.twisted-3.4.0a1-py2.4.egg',
  'trunk/eggs/ZODB3-3.8.0a1.dev_r74780-py2.4-linux-x86_64.egg',
  'trunk/eggs/zdaemon-2.0a6-py2.4.egg',
  'trunk/eggs/zope.app.securitypolicy-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.zcmlfiles-3.4.0a1-py2.4.egg',
  'trunk/thirdparty/zc.set/src',
  'trunk/eggs/z3c.etestbrowser-1.0-py2.4.egg',
  'trunk/eggs/zc.table-0.7dev_r72459-py2.4.egg',
  'trunk/thirdparty/zc.form/src',
  'trunk/eggs/zc.resourcelibrary-0.7dev_r72506-py2.4.egg',
  'trunk/eggs/z3c.traverser-0.1.1_r74198-py2.4.egg',
  'trunk/eggs/rwproperty-1.0-py2.4.egg',
  'trunk/thirdparty/pydavclient',
  'trunk/eggs/PIL-1.1.6-py2.4-linux-x86_64.egg',
  'trunk/develop-eggs/lxml-1.3beta-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.traversing-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.schema-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.location-3.4.0a1_1-py2.4.egg',
  'trunk/eggs/zope.lifecycleevent-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.interface-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.index-3.4.0a2-py2.4.egg',
  'trunk/eggs/zope.component-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.testing-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.intid-3.4.0a2-py2.4.egg',
  'trunk/eggs/zope.app.container-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.app.component-0.1dev_r74310-py2.4.egg',
  'trunk/eggs/zope.annotation-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.testbrowser-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.security-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.publisher-3.4.0a1_1-py2.4.egg',
  'trunk/eggs/zope.proxy-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.i18n-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.deprecation-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.configuration-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.cachedescriptors-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.tree-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.skins-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.renderer-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.publisher-0.1dev_r73800-py2.4.egg',
  'trunk/eggs/zope.app.preference-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.basicskin-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.appsetup-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.size-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.event-3.3.0-py2.4.egg',
  'trunk/eggs/zope.app.zapi-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.i18n-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.keyreference-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.contenttype-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.security-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.publication-3.4.0a1_1-py2.4.egg',
  'trunk/eggs/zope.app.pagetemplate-0.1dev_r74298-py2.4.egg',
  'trunk/eggs/zope.app.folder-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.file-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.server-3.4.0a1_3-py2.4.egg',
  'trunk/eggs/zope.app.wsgi-3.4.0a1_2-py2.4.egg',
  'trunk/eggs/zope.app.applicationcontrol-3.4_dev_r73715-py2.4.egg',
  'trunk/eggs/zope.exceptions-3.4dev_r73107-py2.4.egg',
  'trunk/eggs/zope.copypastemove-3.4.0a1-py2.4.egg',
  'trunk/eggs/ZConfig-2.4a2-py2.4.egg',
  'trunk/eggs/zope.i18nmessageid-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/thirdparty/zope.app.form/src',
  'trunk/eggs/zope.app.schema-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.formlib-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.rotterdam-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.principalannotation-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.zopeappgenerations-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.locales-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.interface-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.generations-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.content-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.dependable-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.modulealias-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.viewlet-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.deferredimport-3.4dev-py2.4.egg',
  'trunk/eggs/zope.app.debug-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.authentication-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.broken-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.dublincore-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.filerepresentation-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.dottedname-3.4dev-py2.4.egg',
  'trunk/eggs/zope.thread-3.4dev_r73086-py2.4-linux-x86_64.egg',
  'trunk/eggs/pytz-2007d-py2.4.egg',
  'trunk/eggs/zope.structuredtext-3.4.0a1-py2.4.egg',
  'trunk/eggs/docutils-0.4-py2.4.egg',
  'trunk/eggs/zope.pagetemplate-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.datetime-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.exception-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.error-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.http-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.tales-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.interpreter-0.1dev_r73627-py2.4.egg',
  'trunk/eggs/zope.server-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.hookable-3.4.0a1-py2.4-linux-x86_64.egg',
  'trunk/eggs/zope.tal-3.4.0a1-py2.4.egg',
  'trunk/eggs/zodbcode-0.1dev_r72731-py2.4.egg',
  'trunk/eggs/zope.contentprovider-3.4.0a1-py2.4.egg',
  'trunk/eggs/zope.app.session-3.4.0a1-py2.4.egg',
  'trunk/eggs/RestrictedPython-3.4dev_r73256-py2.4.egg',
  'trunk/parts/zope3/src',
  )]

from pprint import pprint
from zeit.connector.connector import Connector, Resource
conn = Connector("http://zip4clone.zeit.de:9999/cms/work/")
pprint(list(conn.listCollection((u'http://xml.zeit.de/'))))
res = Resource(id    = "http://xml.zeit.de/test/grumblefruz",
               name  = "grumblefruz",
               type  = "text",
               data  = "A Sample Resource")
conn.add(res)
