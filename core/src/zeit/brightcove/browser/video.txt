Editing video metadata
======================

>>> from z3c.etestbrowser.testing import ExtendedTestBrowser
>>> browser = ExtendedTestBrowser()
>>> browser.addHeader('Authorization', 'Basic user:userpw')
>>> browser.open('http://localhost/++skin++cms/repository-brightcove/video:1234')
>>> print browser.getControl('Title').value
Starrummel auf dem Roten Teppich zur 82. Oscar-Verleihung
>>> browser.getControl('Title').value = 'New title'
>>> browser.getControl('Apply').click()
>>> print browser.contents
<...
 <li class="message">Updated on ...



>>> import zeit.brightcove.testing
>>> len(zeit.brightcove.testing.RequestHandler.posts_received)
1
>>> def open_wo_redirect(browser, *args, **kwargs):
...    import urllib2
...    browser.mech_browser.set_handle_redirect(False)
...    try:
...        try:
...            browser.open(*args, **kwargs)
...        except urllib2.HTTPError, e:
...            print str(e)
...            print e.hdrs.get('location')
...    finally:
...        browser.mech_browser.set_handle_redirect(True)

>>> open_wo_redirect(browser, '@@thumbnail')
HTTP Error 303: See Other
http://thumbnailurl

